# **Reptiles**

### 学习python

​	查询资料得知，爬虫脚本大部分都通过python完成，因此通过菜鸟教程自学python。用时大约3小时。（由于只需要了解基本的语法，因此很快）

[]: https://www.runoob.com/python3/python3-tutorial.html	"菜鸟教程python教学"

------

### 使用request库

​	首次尝试，使用request和re库，向网站发送请求，对返回的信息通过正则表达式进行分析检索，挑选出我们需要的数据。首次运行先尝试爬到某网站的图片。

 	

[]: https://www.vmgirls.com/14094.html	"图片网站（教程就是从这里爬的，不是我选的！）"

1. **伪装header。**

2. **发送响应请求。**

3. **接收返回值，用正则表达式进行解析，得到需要的内容。**

   

   具体代码在main.py和getinfo.py中，爬到的图片在imgTest文件夹中，首次爬取尝试成功！

------

### 遇到的问题

​	接下来尝试爬取课程数据。首先检查网页源码：**变量命名居然都是拼音简写！ohch！**源码量大且乱，很难找到对应的请求地址。甚至分析不清楚请求类型。

### Charles

​	使用charles，抓包监控并分析网页请求。分析得到发送有connect类型请求、post类型请求等。进行手动操作，返回来页面信息：**页面正在维护中** 。

------

### 切换思路

发送请求无效，那么就从用户角度进行操作。

### Selenium+tesseract

Selenium库：监控chorme浏览器，模拟一系列用户点击，输入操作。

tesseract：光学检索库，用来识别二维码。

​	用Selenium模拟用户，使用用户名密码登录，并使用tesseract绕过二维码，再模拟用户点击得到每个课程的详细信息，通过xpath获得dom tree的元素。

​	然而Selenium存在弊端，很多时候需要等待页面响应，也就是等待页面完全加载，因此需要加入很多time.sleep()来进行等待，不过最后还是很顺利地得到了所有数据。

**原生数据在course.txt中，代码在getinfo2.py中**